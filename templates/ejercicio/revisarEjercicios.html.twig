{% extends 'base.html.twig' %}

{% block title %}
Revisar ejercicios
{% endblock %}

{% block body %}
  <!-- EJERCICIOS POR REVISAR -->
  {% if ejerciciosR is not empty %}
    <section class="py-5" id="games">
        <div class="container px-5 my-5">
            <div class="row gx-5 justify-content-center">
                <div class="col-lg-8 col-xl-6">
                    <div class="text-center">
                        <h2 class="fw-bolder">Ejercicios por revisar:</h2>
                        <p class="lead fw-normal text-muted mb-5"></p>
                    </div>
                </div>
            </div>
            <div class="row gx-5">

              {% for ejercicio in ejerciciosR %}
              <!--empieza tarjeta-->
                  <div class="col-lg-4 mb-5">
                      <div class="card h-100 shadow border-0">
                          <img class="card-img-top" src="img/ejercicios/{{ejercicio.imagen}}" alt="Imagen portada ejercicio" />
                          <div class="card-body p-4">
                              <!--<a class="text-decoration-none link-dark stretched-link" href="#!">
                              </a>-->
                              <h5 class="card-title mb-3">{{ejercicio.id}} - {{ejercicio.nombre}}</h5>
                              <p class="card-text mb-0">{{ejercicio.descripcion}}</p>
                          </div>
                          <div class="card-footer p-4 pt-0 bg-transparent border-top-0">
                              <div class="d-flex align-items-end justify-content-between">
                                  <div class="d-flex align-items-center">
                                      <div class="small">
                                          <div class="fw-bold">{{ejercicio.autor.nombre}}</div>
                                          <div class="text-muted">{{ejercicio.fechaCreacion|date('d-m-Y')}}</div>
                                      </div>
                                  </div>
                              </div>
                              <div class="d-flex align-items-end justify-content-between">
                                  <div class="d-grid"><a class="btn btn-success" href="{{ path('app_aceptarEjercicio', {id: ejercicio.id}) }}">Aceptar</a></div>
                                  <div class="d-grid"><a class="btn btn-danger" href="{{ path('app_denegarEjercicio', {id: ejercicio.id}) }}">Denegar</a></div>
                                  <div class="d-grid"><a class="btn btn-primary" href="{{ path('app_revisarEjercicio', {id: ejercicio.id}) }}">Revisar</a></div>
                              </div>
                          </div>
                      </div>
                  </div>
                <!--Acaba tarjeta-->
              {% endfor %}
            </div>
        </div>
    </section>
  {% endif %}

  <!-- EJERCICIOS DENEGADOS -->
  {% if ejerciciosD is not empty %}
    <section class="py-5" id="denegadps">
        <div class="container px-5 my-5">
            <div class="row gx-5 justify-content-center">
                <div class="col-lg-8 col-xl-6">
                    <div class="text-center">
                        <h2 class="fw-bolder">Ejercicios denegados:</h2>
                        <p class="lead fw-normal text-muted mb-5"></p>
                    </div>
                </div>
            </div>
            <div class="row gx-5">

              {% for ejercicio in ejerciciosD %}
              <!--empieza tarjeta-->
                  <div class="col-lg-4 mb-5">
                      <div class="card h-100 shadow border-0">
                          <img class="card-img-top" src="img/ejercicios/{{ejercicio.imagen}}" alt="Imagen portada ejercicio" />
                          <div class="card-body p-4">
                              <!--<a class="text-decoration-none link-dark stretched-link" href="#!">
                              </a>-->
                              <h5 class="card-title mb-3">{{ejercicio.id}} - {{ejercicio.nombre}}</h5>
                              <p class="card-text mb-0">{{ejercicio.descripcion}}</p>
                          </div>
                          <div class="card-footer p-4 pt-0 bg-transparent border-top-0">
                              <div class="d-flex align-items-end justify-content-between">
                                  <div class="d-flex align-items-center">
                                      <div class="small">
                                          <div class="fw-bold">{{ejercicio.autor.nombre}}</div>
                                          <div class="text-muted">{{ejercicio.fechaCreacion|date('d-m-Y')}}</div>
                                      </div>
                                  </div>
                              </div>
                              <div class="d-flex align-items-end justify-content-between">
                                  <div class="d-grid"><a class="btn btn-success" href="{{ path('app_aceptarEjercicio', {id: ejercicio.id}) }}">Aceptar</a></div>
                                  <div class="d-grid"><a class="btn btn-primary" href="{{ path('app_revisarEjercicio', {id: ejercicio.id}) }}">Revisar</a></div>
                              </div>
                          </div>
                      </div>
                  </div>
                <!--Acaba tarjeta-->
              {% endfor %}
            </div>
        </div>
    </section>
  {% endif %}

  <!-- EJERCICIOS ACEPTADOS -->
  {% if ejerciciosA is not empty %}
    <section class="py-5" id="aceptados">
        <div class="container px-5 my-5">
            <div class="row gx-5 justify-content-center">
                <div class="col-lg-8 col-xl-6">
                    <div class="text-center">
                        <h2 class="fw-bolder">Ejercicios aceptados:</h2>
                        <p class="lead fw-normal text-muted mb-5"></p>
                    </div>
                </div>
            </div>
            <div class="row gx-5">

              {% for ejercicio in ejerciciosA %}
              <!--empieza tarjeta-->
                  <div class="col-lg-4 mb-5">
                      <div class="card h-100 shadow border-0">
                          <img class="card-img-top" src="img/ejercicios/{{ejercicio.imagen}}" alt="Imagen portada ejercicio" />
                          <div class="card-body p-4">
                              <!--<a class="text-decoration-none link-dark stretched-link" href="#!">
                              </a>-->
                              <h5 class="card-title mb-3">{{ejercicio.id}} - {{ejercicio.nombre}}</h5>
                              <p class="card-text mb-0">{{ejercicio.descripcion}}</p>
                          </div>
                          <div class="card-footer p-4 pt-0 bg-transparent border-top-0">
                              <div class="d-flex align-items-end justify-content-between">
                                  <div class="d-flex align-items-center">
                                      <div class="small">
                                          <div class="fw-bold">{{ejercicio.autor.nombre}}</div>
                                          <div class="text-muted">{{ejercicio.fechaCreacion|date('d-m-Y')}}</div>
                                      </div>
                                  </div>
                              </div>
                              <div class="d-flex align-items-end justify-content-between">
                                  <div class="d-grid"><a class="btn btn-danger" href="{{ path('app_denegarEjercicio', {id: ejercicio.id}) }}">Denegar</a></div>
                                  <div class="d-grid"><a class="btn btn-primary" href="{{ path('app_revisarEjercicio', {id: ejercicio.id}) }}">Revisar</a></div>
                              </div>
                          </div>
                      </div>
                  </div>
                <!--Acaba tarjeta-->
              {% endfor %}
            </div>
        </div>
    </section>
  {% endif %}

  {% if ejerciciosD is empty and ejerciciosR is empty and ejerciciosA is empty%}
    <section class="py-5" id="games">
        <div class="container px-5 my-5">
            <div class="row gx-5 justify-content-center">
                <div class="col-lg-8 col-xl-6">
                    <div class="text-center">
                        <h2 class="fw-bolder"> No hay ejercicios por revisar.</h2>
                    </div>
                </div>
            </div>
      </section>
  {% endif %}

{% endblock %}
