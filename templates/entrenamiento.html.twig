<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <link rel="stylesheet" href="/css/entrenamiento.css">
  {% block css %}{% endblock %}
    <meta charset="utf-8">
  <title>{% block title %}{{ejercicio.nombre}}{% endblock %}</title>
  </head>
  <body onload="load()">
      <div id="cabecera">
        <p id="titulo">{{ejercicio.nombre}}</p>
        <p>Nivel: <span id="nivel">{{entrenamiento.nivelAlcanzado}}</span> - Puntos: <span id="puntos">{{entrenamiento.puntuacion}}</span></p>
        {% block cabecera %}{% endblock %}
      </div>

      <div id="juego">
        {% block juego %}

        {% endblock %}
      </div>
      <div id="botones">
        <form class="" action="{{ path('app_guardarEntrenamiento') }}" method="post">
          <input type="hidden" name="puntos" id="inputPuntos" value="{{entrenamiento.puntuacion}}">
          <input type="hidden" name="nivel" id="inputNivel" value="{{entrenamiento.nivelAlcanzado}}">
          <button type="submit" name="button" id="acabar">Acabar entrenamiento</button>
          <button type="button" name="button" id="empezar" onclick="empezarCero()">Empezar de 0</button>
        </form>
      </div>
  </body>
  <script type="text/javascript">
    var parrafoPuntos, parrafoNivel, inputNivel, inputPuntos;
    var puntos, nivel;

    function load() {
      //no tocar
      parrafoPuntos = document.getElementById('puntos');
      inputPuntos = document.getElementById('inputPuntos');
      puntos = parrafoPuntos.innerHTML;
      inputPuntos.value = puntos;
      parrafoNivel = document.getElementById('nivel');
      inputNivel = document.getElementById('inputNivel');
      nivel = parrafoNivel.innerHTML;
      inputNivel.value = nivel;
    }

    //no tocar
    function actualizarPuntos(p) {
      puntos = parseInt(puntos) + p;
      parrafoPuntos.innerHTML=puntos;
      inputPuntos.value = puntos;
    }
    //no tocar
    function actualizarNivel(n) {
      nivel = parseInt(nivel) + n
      parrafoNivel.innerHTML = nivel;
      inputNivel.value = nivel;
    }
    //no tocar
    function empezarCero() {
      puntos = 0;
      nivel = 0;
      actualizarNivel();
      actualizarPuntos();
    }
  </script>
  {% block funcionalidad %}{% endblock %}
</html>
